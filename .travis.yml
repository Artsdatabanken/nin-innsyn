language: node_js
node_js:
- 6
cache:
  directories:
  - node_modules
script:
- yarn test
- yarn build
- yarn build-storybook
deploy:
  provider: firebase
after_success:
- npm run report-coverage
- firebase deploy --token $FIREBASE_TOKEN --non-interactive
notifications:
  slack:
    on_success: change
    on_failure: change
before_install: yarn global add greenkeeper-lockfile@1
before_script: greenkeeper-lockfile-update
after_script: greenkeeper-lockfile-upload
env:
  global:
    secure: OK47R+JKAdgdZJwH803H7qE8drED0xLDvlKCbCsC2ay557GpNB94r9L8Vsx62dv+65ZComGmTwmc/zwk4AwqlJTiFcejNEwQ6ztm1EOvn/0II7yshT47DCmZoiaSUSxcex/su86SyNtkqfpG+nb5hBfL3OiAoIyzkuOc4N7pDbcZa2nAiZkMb5d+V0xvWPNMs3GBmETvQrUNYDzKrMTr1JSVXNhAOJElwbd+wjV0OC8blIcqSqS7GGXGVItr1MQuP9FnsYfc1K2mOI8sbqpPvkQYSMuyci043V4M15HEz0MlEK/G+cFs70hnccIdUzV7XriT/Tyd+zIGxTcUcyiqeLOUTPuly8CrgCkJFHXNzXuI0Eu4QctJ7DZJjGSVTmiyhedgzrpka2BNGShJbNIJyWARawWo/qSpnC9ttbTCPZplwLMbejol+qElLr2RkdU4yeGdhYXe16KAV2aX9qgOHa9urj1Vbu+TbFqKd8ML26t3CF7d2vfZo51Tg5KXhJOPtV0viqEpM5RZgloW1kpaqHQ4Elxpexpw9XQhu7c98YZxQ/NwAqvlLG9GyFl+5J2M7i+tz9OzPwIw3HaQZMT5S0o/EsMKyHWazn2vTOoXtdg5PLEKHndKx+ihvK7LsvImZQTQaQhe/Lebx9GGAICOwpmSnO5hlwJTWcaLUT2aaSI=
